<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial;
        }
        .title {
            font-size: 30px;
            font-weight: bold;
        }
        .ple {
            height: 50px;
        }
        .oran {
            background-color: transparent;
            border: 2px solid white;
            width: 120px;
            height: 120px;
            border-radius: 60px;
            margin-right: 10px;
        }
        .app {
            font-size: 20px;
            font-weight: bold;
        }
        .on {
            border: none;
            background-color: green;
            font-size: 15px;
            padding: 10px 13px;
            cursor: pointer;
        }
        .auto-play {
            border: none;
            background-color: yellow;
            font-size: 15px;
            padding: 10px 13px;
            cursor: pointer;
        }
        .label {
            margin-top: 100px;
        }
    </style>
</head>
<body>
    <p class="title">ROCK PAPER SCISSORS</p>
    <button class="oran" onclick="PlayerMove('rock')">
        <img src="./images/rock.jpeg" class="ple">
    </button>
    <button class="oran" onclick="PlayerMove('paper')">
        <img src="./images/paper.jpeg" class="ple">
    </button>
    <button class="oran" onclick="PlayerMove('scissors')">
        <img src="./images/scissors.jpeg" class="ple">
    </button>

    <p class="results app"></p>
    <p class="ple">You <img src="./images/rock.jpeg" class="oran"> <img src="./images/paper.jpeg" class="oran"> Computer</p>
    <p class="label"></p>

    <button class="on" onclick="
        score.wins = 0;
        score.losses = 0;
        score.ties = 0;
        localStorage.removeItem('score');
        UpdateScore();
        document.querySelector('.results').innerHTML = '';
    ">Reset Button</button>
    
    <button class="auto-play" id="auto" onclick="autoPlay()">Autoplay</button>

    <script>
        let score = JSON.parse(localStorage.getItem('score'));
        if (score === null) {
            score = { wins: 0, losses: 0, ties: 0 };
        }
        UpdateScore();

        function Computer() {
            const randomN = Math.random();
            if (randomN < 1/3) return 'rock';
            else if (randomN < 2/3) return 'scissors';
            return 'paper';
        }

        function PlayerMove(play) {
            const computerMove = Computer();
            let result = '';
            if (play === 'scissors') {
                result = (computerMove === 'rock') ? 'You lose' : (computerMove === 'scissors') ? 'Tie' : 'You win';
            } else if (play === 'paper') {
                result = (computerMove === 'rock') ? 'You win' : (computerMove === 'scissors') ? 'You lose' : 'Tie';
            } else if (play === 'rock') {
                result = (computerMove === 'rock') ? 'Tie' : (computerMove === 'scissors') ? 'You win' : 'You lose';
            }

            // Update scores
            if (result === 'You win') score.wins++;
            else if (result === 'You lose') score.losses++;
            else if (result === 'Tie') score.ties++;
            
            localStorage.setItem('score', JSON.stringify(score));
            UpdateScore();

            /*alert(`You picked ${play}. Computer picked ${computerMove}. ${result} Wins=${score.wins} Losses=${score.losses} Ties=${score.ties}`);*/
            document.querySelector('.results').innerHTML = result;
            console.log(play,computerMove)
            document.querySelector('.ple').innerHTML = `You <img src="./images/${play}.jpeg" class="oran"> <img src="./images/${computerMove}.jpeg" class="oran"> Computer`;
        }

        function UpdateScore() {
            document.querySelector('.label').innerHTML = `Wins=${score.wins} Losses=${score.losses} Ties=${score.ties}`;
        }
        let autoPlayInterval = false;
let intervalId;

function autoPlay() {
    const autoButton = document.getElementById('auto');
    if (!autoPlayInterval) {
        intervalId = setInterval(function() {
            const playerMovee = Computer();
            PlayerMove(playerMovee);
        }, 1000);
        autoPlayInterval = true; 
        autoButton.textContent = 'Stop Autoplay'; // Change button text
        autoButton.style.backgroundColor = 'red'; // Optional: change color
    } else {
        clearInterval(intervalId);
        autoPlayInterval = false; 
        autoButton.textContent = 'Autoplay'; // Reset button text
        autoButton.style.backgroundColor = 'yellow'; // Reset color
    }
}



        
    
    </script>
</body>
</html>
